{%extends 'layout.html'%}
{%block content%}

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <div id="map" style="height: 400px;"></div>
    
    
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // Initialize map
        var map = L.map('map').setView([53.5511, 9.9937], 13); // Set initial coordinates and zoom level

        // Add tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);


        
        var offersData = {{offers | safe}}
        // Add marker (optional)
        
        console.log(offersData)

        var markers = [
            { lat: 51.5, lng: -0.1 },
            { lat: 51.51, lng: -0.12 },
            { lat: 51.49, lng: -0.09 }
            // Add more marker coordinates as needed
        ];

        markers.forEach(function(marker) {
            L.marker([marker.lat, marker.lng]).addTo(map)
                .on('click', function(e) {
                    window.location.href = "{{ url_for('damage', damage_id=7) }}"; // Change offer_id as needed
                });
        });
    </script>
{%endblock%}